{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,kBAChCC,EAAUF,SAASC,cAAc,SACjCE,EAAYH,SAASC,cAAc,YACnCG,EAAe,sBAEfC,EAAM,GAGZ,IACE,IAAIC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQN,IACvCE,IACFJ,EAAQS,MAAQL,EAAKM,MACrBT,EAAUQ,MAAQL,EAAKO,Q,CAEzB,MAAOC,GACPC,QAAQC,IAAIF,E,CAGdf,EAAOkB,iBACL,SACA,EAAApB,EAAAqB,WAAS,SAAAC,GACP,GAA8B,UAA1BA,EAAMC,OAAOC,SAGf,OAFAhB,EAAIO,MAAQO,EAAMC,OAAOT,WACzBF,aAAaa,QAAQlB,EAAcG,KAAKgB,UAAUlB,IAIpDA,EAAIQ,QAAUM,EAAMC,OAAOT,MAC3BF,aAAaa,QAAQlB,EAAcG,KAAKgB,UAAUlB,G,GACjD,MAGLN,EAAOkB,iBAAiB,UAAU,SAAAE,GAChC,IACEA,EAAMK,iBACNT,QAAQC,IAAIT,KAAKC,MAAMC,aAAaC,QAAQN,KAC5CK,aAAagB,WAAWrB,GACxBe,EAAMC,OAAOM,O,CACb,MAAOC,GACPZ,QAAQC,IAAIW,EAAIC,K","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst inputEl = document.querySelector('input');\nconst messageEl = document.querySelector('textarea');\nconst FEEDBACK_KEY = 'feedback-form-state';\n\nconst obj = {};\n\n// check data\ntry {\n  let data = JSON.parse(localStorage.getItem(FEEDBACK_KEY));\n  if (data) {\n    inputEl.value = data.email;\n    messageEl.value = data.message;\n  }\n} catch (err) {\n  console.log(err);\n}\n\nformEl.addEventListener(\n  'input',\n  throttle(event => {\n    if (event.target.nodeName === 'INPUT') {\n      obj.email = event.target.value;\n      localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n      return;\n    }\n\n    obj.message = event.target.value;\n    localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n  }, 500)\n);\n\nformEl.addEventListener('submit', event => {\n  try {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(FEEDBACK_KEY)));\n    localStorage.removeItem(FEEDBACK_KEY);\n    event.target.reset();\n  } catch (err) {\n    console.log(err.name);\n  }\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$inputEl","$b00c40859be242c5$var$messageEl","$b00c40859be242c5$var$FEEDBACK_KEY","$b00c40859be242c5$var$obj","$b00c40859be242c5$var$data","JSON","parse","localStorage","getItem","value","email","message","err","console","log","addEventListener","throttle","event","target","nodeName","setItem","stringify","preventDefault","removeItem","reset","err1","name"],"version":3,"file":"03-feedback.03efd307.js.map"}