{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,kBAChCC,EAAUF,SAASC,cAAc,SACjCE,EAAYH,SAASC,cAAc,YACnCG,EAAe,sBAEfC,EAAM,GAEZ,IACE,IAAIC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQN,IAEvCE,EAAKK,QACPT,EAAQU,MAAQN,EAAKK,MACrBN,EAAIM,MAAQL,EAAKK,OAGfL,EAAKO,UACPV,EAAUS,MAAQN,EAAKO,QACvBR,EAAIQ,QAAUP,EAAKO,QAET,CAAZ,MAAOC,GAAK,CAEdf,EAAOgB,iBACL,SAEA,EAAAlB,EAAAmB,WAAS,SAAAC,GACP,GAA8B,UAA1BA,EAAMC,OAAOC,SAGf,OAFAd,EAAIM,MAAQM,EAAMC,OAAON,WACzBH,aAAaW,QAAQhB,EAAcG,KAAKc,UAAUhB,IAGpDA,EAAIQ,QAAUI,EAAMC,OAAON,MAC3BH,aAAaW,QAAQhB,EAAcG,KAAKc,UAAUhB,G,GACjD,MAGLN,EAAOgB,iBAAiB,UAAU,SAAAE,GAIhC,IAAKK,OAHLL,EAAMM,iBACNC,QAAQC,IAAIpB,GAEAA,SACHA,EAAIiB,KAEbb,aAAaiB,WAAWtB,GACxBa,EAAMC,OAAOS,O","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst inputEl = document.querySelector('input');\nconst messageEl = document.querySelector('textarea');\nconst FEEDBACK_KEY = 'feedback-form-state';\n\nconst obj = {};\n\ntry {\n  let data = JSON.parse(localStorage.getItem(FEEDBACK_KEY));\n\n  if (data.email) {\n    inputEl.value = data.email;\n    obj.email = data.email;\n  }\n\n  if (data.message) {\n    messageEl.value = data.message;\n    obj.message = data.message;\n  }\n} catch (err) {}\n\nformEl.addEventListener(\n  'input',\n\n  throttle(event => {\n    if (event.target.nodeName === 'INPUT') {\n      obj.email = event.target.value;\n      localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n      return;\n    }\n    obj.message = event.target.value;\n    localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n  }, 500)\n);\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(obj);\n\n  for (key in obj) {\n    delete obj[key];\n  }\n  localStorage.removeItem(FEEDBACK_KEY);\n  event.target.reset();\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$inputEl","$b00c40859be242c5$var$messageEl","$b00c40859be242c5$var$FEEDBACK_KEY","$b00c40859be242c5$var$obj","$b00c40859be242c5$var$data","JSON","parse","localStorage","getItem","email","value","message","err","addEventListener","throttle","event","target","nodeName","setItem","stringify","key","preventDefault","console","log","removeItem","reset"],"version":3,"file":"03-feedback.be193139.js.map"}