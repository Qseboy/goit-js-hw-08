{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAChCC,EAAUF,SAASC,cAAc,SACjCE,EAAYH,SAASC,cAAc,YAGnCG,EAAM,GAEZ,IACE,IAAIC,EAAOC,KAAKC,MAAMC,aAAaC,QALhB,wBAOfJ,EAAKK,QACPR,EAAQS,MAAQN,EAAKK,MACrBN,EAAIM,MAAQL,EAAKK,OAGfL,EAAKO,UACPT,EAAUQ,MAAQN,EAAKO,QACvBR,EAAIQ,QAAUP,EAAKO,QAET,CAAZ,MAAOC,GAAK,CAEdd,EAAOe,iBACL,SAEA,EAAAjB,EAAAkB,WAASC,IACP,GAA8B,UAA1BA,EAAMC,OAAOC,SAGf,OAFAd,EAAIM,MAAQM,EAAMC,OAAON,WACzBH,aAAaW,QAxBE,sBAwBoBb,KAAKc,UAAUhB,IAGpDA,EAAIQ,QAAUI,EAAMC,OAAON,MAC3BH,aAAaW,QA5BI,sBA4BkBb,KAAKc,UAAUhB,GAAK,GACtD,MAGLL,EAAOe,iBAAiB,UAAUE,IAChCA,EAAMK,iBACNC,QAAQC,IAAInB,GAEZ,IAAK,IAAIoB,KAAOpB,SACPA,EAAIoB,GAEbhB,aAAaiB,WAvCM,uBAwCnBT,EAAMC,OAAOS,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst inputEl = document.querySelector('input');\nconst messageEl = document.querySelector('textarea');\nconst FEEDBACK_KEY = 'feedback-form-state';\n\nconst obj = {};\n\ntry {\n  let data = JSON.parse(localStorage.getItem(FEEDBACK_KEY));\n\n  if (data.email) {\n    inputEl.value = data.email;\n    obj.email = data.email;\n  }\n\n  if (data.message) {\n    messageEl.value = data.message;\n    obj.message = data.message;\n  }\n} catch (err) {}\n\nformEl.addEventListener(\n  'input',\n\n  throttle(event => {\n    if (event.target.nodeName === 'INPUT') {\n      obj.email = event.target.value;\n      localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n      return;\n    }\n    obj.message = event.target.value;\n    localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n  }, 500)\n);\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  console.log(obj);\n\n  for (let key in obj) {\n    delete obj[key];\n  }\n  localStorage.removeItem(FEEDBACK_KEY);\n  event.target.reset();\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$inputEl","$945622fd0f572e60$var$messageEl","$945622fd0f572e60$var$obj","data","JSON","parse","localStorage","getItem","email","value","message","err","addEventListener","throttle","event","target","nodeName","setItem","stringify","preventDefault","console","log","key","removeItem","reset"],"version":3,"file":"03-feedback.82902e38.js.map"}