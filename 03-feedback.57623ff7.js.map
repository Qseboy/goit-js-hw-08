{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,kBAChCC,EAAUF,SAASC,cAAc,SACjCE,EAAYH,SAASC,cAAc,YAGnCG,EAAM,GAGZ,IACE,IAAIC,EAAOC,KAAKC,MAAMC,aAAaC,QANhB,wBAOfJ,IACFH,EAAQQ,MAAQL,EAAKM,MACrBR,EAAUO,MAAQL,EAAKO,Q,CAEzB,MAAOC,GACPC,QAAQC,IAAIF,E,CAGdd,EAAOiB,iBACL,SACA,EAAAnB,EAAAoB,WAASC,IACP,GAA8B,UAA1BA,EAAMC,OAAOC,SAGf,OAFAhB,EAAIO,MAAQO,EAAMC,OAAOT,WACzBF,aAAaa,QApBE,sBAoBoBf,KAAKgB,UAAUlB,IAIpDA,EAAIQ,QAAUM,EAAMC,OAAOT,MAC3BF,aAAaa,QAzBI,sBAyBkBf,KAAKgB,UAAUlB,GAAK,GACtD,MAGLL,EAAOiB,iBAAiB,UAAUE,IAChC,IACEA,EAAMK,iBACNT,QAAQC,IAAIT,KAAKC,MAAMC,aAAaC,QAhCnB,yBAiCjBD,aAAagB,WAjCI,uBAkCjBN,EAAMC,OAAOM,O,CACb,MAAOC,GACPZ,QAAQC,IAAIW,EAAIC,K","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst formEl = document.querySelector('.feedback-form');\nconst inputEl = document.querySelector('input');\nconst messageEl = document.querySelector('textarea');\nconst FEEDBACK_KEY = 'feedback-form-state';\n\nconst obj = {};\n\n// check data\ntry {\n  let data = JSON.parse(localStorage.getItem(FEEDBACK_KEY));\n  if (data) {\n    inputEl.value = data.email;\n    messageEl.value = data.message;\n  }\n} catch (err) {\n  console.log(err);\n}\n\nformEl.addEventListener(\n  'input',\n  throttle(event => {\n    if (event.target.nodeName === 'INPUT') {\n      obj.email = event.target.value;\n      localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n      return;\n    }\n\n    obj.message = event.target.value;\n    localStorage.setItem(FEEDBACK_KEY, JSON.stringify(obj));\n  }, 500)\n);\n\nformEl.addEventListener('submit', event => {\n  try {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(FEEDBACK_KEY)));\n    localStorage.removeItem(FEEDBACK_KEY);\n    event.target.reset();\n  } catch (err) {\n    console.log(err.name);\n  }\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$inputEl","$945622fd0f572e60$var$messageEl","$945622fd0f572e60$var$obj","data","JSON","parse","localStorage","getItem","value","email","message","err","console","log","addEventListener","throttle","event","target","nodeName","setItem","stringify","preventDefault","removeItem","reset","err1","name"],"version":3,"file":"03-feedback.57623ff7.js.map"}